{% extends 'base.html' %}

{% block title %}{{ list_title }} | GSP{% endblock %}

{% block head %}
<link rel="stylesheet" href="{{ url_for('static', filename='styles/cards.css') }}">
{% endblock %}

{% block body %}
<div class="list_details">
    <h1 class="list_title">{{ list_title }}</h1>
    <p class="list_description">{{ list_description }}</p>
</div>

{% if session["is_admin"] == True: %}
    <div class="admin">
        <a href="{{ url_for('new', recommend=path, _external=True) }}">
            <h2>
                Create a new <span>{{ path }}</span>
                <svg xmlns="http://www.w3.org/2000/svg" width="26" height="26" viewBox="0 0 24 24">
                    <path fill="currentColor" d="M6 6v2h8.59L5 17.59L6.41 19L16 9.41V18h2V6z"/>
                </svg>
            </h2>

        </a>
    </div>
{% endif %}

<div class="wrapper">
    <ul class="cards">
        {% for item in items %}
            <a href="{{ url_for(path, id=item.id) }}">
                <li>
                    <div class="item_title">
                        <h2>{{ item.title }}</h2>
                        {% if item_type == 'all_services' %}
                            {% set department = Department.query.filter_by(id=item.department_id).first() %}
                            {% if department %}
                                <h4>{{ department.title }}</h4>
                            {% endif %}
                        {% endif %}
                    </div>
                    <p>{{ item.description }}</p>
                </li>
            </a>
        {% endfor %}
    </ul>
</div>
{% endblock %}